<html><head></head><body><div hidden="" by-polymer-bundler=""><script>(function(){'use strict';const a=window.Polymer;window.Polymer=function(a){return window.Polymer._polymerFn(a)},a&&Object.assign(Polymer,a),window.Polymer._polymerFn=function(){throw new Error('Load polymer.html to use the Polymer() function.')},window.Polymer.version='2.1.1',window.JSCompiler_renameProperty=function(a){return a}})();</script><script>(function(){'use strict';function a(a,d){if(a&&e.test(a))return a;if(void 0===b){b=!1;try{const a=new URL('b','http://a');a.pathname='c%20d',b='http://a/c%20d'===a.href}catch(a){}}return(d||(d=document.baseURI||window.location.href),b)?new URL(a,d).href:(c||(c=document.implementation.createHTMLDocument('temp'),c.base=c.createElement('base'),c.head.appendChild(c.base),c.anchor=c.createElement('a'),c.body.appendChild(c.anchor)),c.base.href=d,c.anchor.href=a,c.anchor.href||a)}let b,c,d=/(url\()([^)]*)(\))/g,e=/(^\/)|(^#)|(^[\w-\d]*:)/;Polymer.ResolveUrl={resolveCss:function(b,c){return b.replace(d,function(b,d,e,f){return d+'\''+a(e.replace(/["']/g,''),c)+'\''+f})},resolveUrl:a,pathFromUrl:function(a){return a.substring(0,a.lastIndexOf('/')+1)}}})();</script><script>(function(){'use strict';const a=Polymer.Settings||{};a.useShadow=!window.ShadyDOM,a.useNativeCSSProperties=!(window.ShadyCSS&&!window.ShadyCSS.nativeCss),a.useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback,Polymer.Settings=a;let b=Polymer.rootPath||Polymer.ResolveUrl.pathFromUrl(document.baseURI||window.location.href);Polymer.rootPath=b,Polymer.setRootPath=function(a){Polymer.rootPath=a};let c=Polymer.sanitizeDOMValue;Polymer.sanitizeDOMValue=c,Polymer.setSanitizeDOMValue=function(a){Polymer.sanitizeDOMValue=a};Polymer.passiveTouchGestures=!1,Polymer.setPassiveTouchGestures=function(a){Polymer.passiveTouchGestures=a}})();</script><script>(function(){'use strict';function a(){}let b=0;a.prototype.__mixinApplications,a.prototype.__mixinSet,Polymer.dedupingMixin=function(a){let c=a.__mixinApplications;c||(c=new WeakMap,a.__mixinApplications=c);let d=b++;return function(b){let e=b.__mixinSet;if(e&&e[d])return b;let f=c,g=f.get(b);g||(g=a(b),f.set(b,g));let h=Object.create(g.__mixinSet||e||null);return h[d]=!0,g.__mixinSet=h,g}}})();</script><script>(function(){'use strict';const a={},b=/-[a-z]/g,c=/([A-Z])/g,d={dashToCamelCase(c){return a[c]||(a[c]=0>c.indexOf('-')?c:c.replace(b,(a)=>a[1].toUpperCase()))},camelToDashCase(b){return a[b]||(a[b]=b.replace(c,'-$1').toLowerCase())}};Polymer.CaseMap=d})();</script><script>(function(){'use strict';function a(a){const b=customElements.get('dom-module');return b?b.import(a):null}const b={cssFromModules(a){let b=a.trim().split(/\s+/),c='';for(let d=0;d<b.length;d++)c+=this.cssFromModule(b[d]);return c},cssFromModule(b){let c=a(b);if(c&&void 0===c._cssText){let a=this._cssFromModuleImports(c),b=c.querySelector('template');b&&(a+=this.cssFromTemplate(b,c.assetpath)),c._cssText=a||null}return c||console.warn('Could not find style data in module named',b),c&&c._cssText||''},cssFromTemplate(a,b){let c='',d=a.content.querySelectorAll('style');for(let f=0;f<d.length;f++){let a=d[f],e=a.getAttribute('include');e&&(c+=this.cssFromModules(e)),a.parentNode.removeChild(a),c+=b?Polymer.ResolveUrl.resolveCss(a.textContent,b):a.textContent}return c},cssFromModuleImports(b){let c=a(b);return c?this._cssFromModuleImports(c):''},_cssFromModuleImports(a){let b='',c=a.querySelectorAll('link[rel=import][type~=css]');for(let d,e=0;e<c.length;e++)if(d=c[e],d.import){let a=d.import,c=a.body?a.body:a;b+=Polymer.ResolveUrl.resolveCss(c.textContent,a.baseURI)}return b}};Polymer.StyleGather=b})();</script><script>(function(){'use strict';function a(a){return c[a]||d[a.toLowerCase()]}function b(a){a.querySelector('style')&&console.warn('dom-module %s has style outside template',a.id)}let c={},d={};class e extends HTMLElement{static get observedAttributes(){return['id']}static import(b,c){if(b){let d=a(b);return d&&c?d.querySelector(c):d}return null}attributeChangedCallback(a,b,c){b!==c&&this.register()}get assetpath(){if(!this.__assetpath){const a=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,b=Polymer.ResolveUrl.resolveUrl(this.getAttribute('assetpath')||'',a.baseURI);this.__assetpath=Polymer.ResolveUrl.pathFromUrl(b)}return this.__assetpath}register(a){a=a||this.id,a&&(this.id=a,c[a]=this,d[a.toLowerCase()]=this,b(this))}}e.prototype.modules=c,customElements.define('dom-module',e),Polymer.DomModule=e})();</script><script>(function(){'use strict';const a={isPath:function(a){return 0<=a.indexOf('.')},root:function(a){let b=a.indexOf('.');return-1===b?a:a.slice(0,b)},isAncestor:function(a,b){return 0===a.indexOf(b+'.')},isDescendant:function(a,b){return 0===b.indexOf(a+'.')},translate:function(a,b,c){return b+c.slice(a.length)},matches:function(a,b){return a===b||this.isAncestor(a,b)||this.isDescendant(a,b)},normalize:function(a){if(Array.isArray(a)){let b=[];for(let c,d=0;d<a.length;d++){c=a[d].toString().split('.');for(let a=0;a<c.length;a++)b.push(c[a])}return b.join('.')}return a},split:function(a){return Array.isArray(a)?this.normalize(a).split('.'):a.toString().split('.')},get:function(a,b,c){let d=a,e=this.split(b);for(let f=0;f<e.length;f++){if(!d)return;let a=e[f];d=d[a]}return c&&(c.path=e.join('.')),d},set:function(a,b,c){let d=a,e=this.split(b),f=e[e.length-1];if(1<e.length){for(let a,b=0;b<e.length-1;b++)if(a=e[b],d=d[a],!d)return;d[f]=c}else d[b]=c;return e.join('.')}};a.isDeep=a.isPath,Polymer.Path=a})();</script><script>(function(){'use strict';let a=0,b=0,c=[],d=0,e=document.createTextNode('');new window.MutationObserver(function(){const a=c.length;for(let b,d=0;d<a;d++)if(b=c[d],b)try{b()}catch(a){setTimeout(()=>{throw a})}c.splice(0,a),b+=a}).observe(e,{characterData:!0}),Polymer.Async={timeOut:{after(a){return{run(b){return setTimeout(b,a)},cancel:window.clearTimeout.bind(window)}},run:window.setTimeout.bind(window),cancel:window.clearTimeout.bind(window)},animationFrame:{run:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)},idlePeriod:{run(a){return window.requestIdleCallback?window.requestIdleCallback(a):window.setTimeout(a,16)},cancel(a){window.cancelIdleCallback?window.cancelIdleCallback(a):window.clearTimeout(a)}},microTask:{run(b){return e.textContent=d++,c.push(b),a++},cancel(a){const d=a-b;if(0<=d){if(!c[d])throw new Error('invalid async handle: '+a);c[d]=null}}}}})();</script><script>(function(){'use strict';function a(a,b){if(!d[b]){let c=a[b];c!==void 0&&(a.__data?a._setPendingProperty(b,c):(a.__dataProto?!a.hasOwnProperty(JSCompiler_renameProperty('__dataProto',a))&&(a.__dataProto=Object.create(a.__dataProto)):a.__dataProto={},a.__dataProto[b]=c))}}let b=Polymer.CaseMap,c=Polymer.Async.microTask;const d={};for(let a=HTMLElement.prototype;a;){let b=Object.getOwnPropertyNames(a);for(let a=0;a<b.length;a++)d[b[a]]=!0;a=Object.getPrototypeOf(a)}Polymer.PropertyAccessors=Polymer.dedupingMixin((d)=>{return class extends d{static createPropertiesForAttributes(){let a=this.observedAttributes;for(let c=0;c<a.length;c++)this.prototype._createPropertyAccessor(b.dashToCamelCase(a[c]))}constructor(){super(),this.__serializing,this.__dataCounter,this.__dataEnabled,this.__dataReady,this.__dataInvalid,this.__data,this.__dataPending,this.__dataOld,this.__dataProto,this.__dataHasAccessor,this.__dataInstanceProps,this._initializeProperties()}attributeChangedCallback(a,b,c){b!==c&&this._attributeToProperty(a,c)}_initializeProperties(){for(let a in this.__serializing=!1,this.__dataCounter=0,this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),this.__dataHasAccessor)this.hasOwnProperty(a)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[a]=this[a],delete this[a])}_initializeProtoProperties(a){for(let b in a)this._setProperty(b,a[b])}_initializeInstanceProperties(a){Object.assign(this,a)}_ensureAttribute(a,b){this.hasAttribute(a)||this._valueToNodeAttribute(this,b,a)}_attributeToProperty(a,c,d){if(!this.__serializing){let e=b.dashToCamelCase(a);this[e]=this._deserializeValue(c,d)}}_propertyToAttribute(a,c,d){this.__serializing=!0,d=3>arguments.length?this[a]:d,this._valueToNodeAttribute(this,d,c||b.camelToDashCase(a)),this.__serializing=!1}_valueToNodeAttribute(a,b,c){let d=this._serializeValue(b);d===void 0?a.removeAttribute(c):a.setAttribute(c,d)}_serializeValue(a){switch(typeof a){case'boolean':return a?'':void 0;case'object':if(a instanceof Date)return a.toString();if(a)try{return JSON.stringify(a)}catch(a){return''}default:return null==a?void 0:a.toString();}}_deserializeValue(a,b){let c;switch(b){case Number:c=+a;break;case Boolean:c=null!==a;break;case Object:try{c=JSON.parse(a)}catch(a){}break;case Array:try{c=JSON.parse(a)}catch(b){c=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${a}`)}break;case Date:c=new Date(a);break;case String:default:c=a;}return c}_createPropertyAccessor(b,c){this.hasOwnProperty('__dataHasAccessor')||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[b]||(this.__dataHasAccessor[b]=!0,a(this,b),Object.defineProperty(this,b,{get:function(){return this.__data[b]},set:c?function(){}:function(a){this._setProperty(b,a)}}))}_hasAccessor(a){return this.__dataHasAccessor&&this.__dataHasAccessor[a]}_setProperty(a,b){this._setPendingProperty(a,b)&&this._invalidateProperties()}_setPendingProperty(a,b){let c=this.__data[a],d=this._shouldPropertyChange(a,b,c);return d&&(!this.__dataPending&&(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(a in this.__dataOld)&&(this.__dataOld[a]=c),this.__data[a]=b,this.__dataPending[a]=b),d}_isPropertyPending(a){return!!(this.__dataPending&&a in this.__dataPending)}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,c.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){if(this.__dataPending&&this.__dataOld){let a=this.__dataPending;this.__dataPending=null,this.__dataCounter++,this._propertiesChanged(this.__data,a,this.__dataOld),this.__dataCounter--}}ready(){this.__dataReady=!0,this._flushProperties()}_propertiesChanged(){}_shouldPropertyChange(a,b,c){return c!==b&&(c===c||b===b)}}})})();</script><script>(function(){'use strict';function a(a){let b=a.getAttribute('is');if(b&&g[b]){let c=a;for(c.removeAttribute('is'),a=c.ownerDocument.createElement(b),c.parentNode.replaceChild(a,c),a.appendChild(c);c.attributes.length;)a.setAttribute(c.attributes[0].name,c.attributes[0].value),c.removeAttribute(c.attributes[0].name)}return a}function b(a,c){let d=c.parentInfo&&b(a,c.parentInfo);if(d){for(let a=d.firstChild,b=0;a;a=a.nextSibling)if(c.parentIndex===b++)return a;}else return a}function c(a,b,c,d){d.id&&(b[d.id]=c)}function d(a,b,c){if(c.events&&c.events.length)for(let d,e=0,f=c.events;e<f.length&&(d=f[e]);e++)a._addMethodEventListenerToNode(b,d.name,d.value,a)}function e(a,b,c){c.templateInfo&&(b._templateInfo=c.templateInfo)}function f(a,b,c){a=a._methodHost||a;return function(b){a[c]?a[c](b,b.detail):console.warn('listener method `'+c+'` not defined')}}const g={"dom-if":!0,"dom-repeat":!0};Polymer.TemplateStamp=Polymer.dedupingMixin((g)=>{return class extends g{static _parseTemplate(a,b){if(!a._templateInfo){let c=a._templateInfo={};c.nodeInfoList=[],c.stripWhiteSpace=b&&b.stripWhiteSpace||a.hasAttribute('strip-whitespace'),this._parseTemplateContent(a,c,{parent:null})}return a._templateInfo}static _parseTemplateContent(a,b,c){return this._parseTemplateNode(a.content,b,c)}static _parseTemplateNode(a,b,c){let d,e=a;return'template'!=e.localName||e.hasAttribute('preserve-content')?'slot'===e.localName&&(b.hasInsertionPoint=!0):d=this._parseTemplateNestedTemplate(e,b,c)||d,e.firstChild&&(d=this._parseTemplateChildNodes(e,b,c)||d),e.hasAttributes&&e.hasAttributes()&&(d=this._parseTemplateNodeAttributes(e,b,c)||d),d}static _parseTemplateChildNodes(b,c,d){if('script'!==b.localName&&'style'!==b.localName)for(let e,f=b.firstChild,g=0;f;f=e){if('template'==f.localName&&(f=a(f)),e=f.nextSibling,f.nodeType===Node.TEXT_NODE){for(let a=e;a&&a.nodeType===Node.TEXT_NODE;)f.textContent+=a.textContent,e=a.nextSibling,b.removeChild(a),a=e;if(c.stripWhiteSpace&&!f.textContent.trim()){b.removeChild(f);continue}}let h={parentIndex:g,parentInfo:d};this._parseTemplateNode(f,c,h)&&(h.infoIndex=c.nodeInfoList.push(h)-1),f.parentNode&&g++}}static _parseTemplateNestedTemplate(a,b,c){let d=this._parseTemplate(a,b),e=d.content=a.content.ownerDocument.createDocumentFragment();return e.appendChild(a.content),c.templateInfo=d,!0}static _parseTemplateNodeAttributes(b,c,d){let e=!1,f=Array.from(b.attributes);for(let g,a=f.length-1;g=f[a];a--)e=this._parseTemplateNodeAttribute(b,c,d,g.name,g.value)||e;return e}static _parseTemplateNodeAttribute(a,b,c,d,e){return'on-'===d.slice(0,3)?(a.removeAttribute(d),c.events=c.events||[],c.events.push({name:d.slice(3),value:e}),!0):!('id'!==d)&&(c.id=e,!0)}static _contentForTemplate(a){let b=a._templateInfo;return b&&b.content||a.content}_stampTemplate(a){a&&!a.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(a);let f=this.constructor._parseTemplate(a),g=f.nodeInfoList,h=f.content||a.content,j=document.importNode(h,!0);j.__noInsertionPoint=!f.hasInsertionPoint;let k=j.nodeList=Array(g.length);j.$={};for(let f,h,m=0,i=g.length;m<i&&(f=g[m]);m++)h=k[m]=b(j,f),c(this,j.$,h,f),e(this,h,f),d(this,h,f);return j=j,j}_addMethodEventListenerToNode(a,b,c,d){d=d||a;let e=f(d,b,c);return this._addEventListenerToNode(a,b,e),e}_addEventListenerToNode(a,b,c){a.addEventListener(b,c)}_removeEventListenerFromNode(a,b,c){a.removeEventListener(b,c)}}})})();</script><script>(function(){'use strict';function e(e,t){let a=e[t];if(!a)a=e[t]={};else if(!e.hasOwnProperty(t))for(let n in a=e[t]=Object.create(e[t]),a){let e=a[n],t=a[n]=Array(e.length);for(let a=0;a<e.length;a++)t[a]=e[a]}return a}function t(e,t,n,r,o,d){if(t){let i=!1,s=H++;for(let p in n)a(e,t,s,p,n,r,o,d)&&(i=!0);return i}return!1}function a(e,t,a,r,o,d,s,p){let _=!1,i=s?Polymer.Path.root(r):r,h=t[i];if(h)for(let t,P=0,i=h.length;P<i&&(t=h[P]);P++)t.info&&t.info.lastRun===a||s&&!n(r,t.trigger)||(t.info&&(t.info.lastRun=a),t.fn(e,r,o,d,t.info,s,p),_=!0);return _}function n(e,t){if(t){let a=t.name;return a==e||t.structured&&Polymer.Path.isAncestor(a,e)||t.wildcard&&Polymer.Path.isDescendant(a,e)}return!0}function r(e,t,a,n,r){let o=e[r.methodName],d=r.property;o?o.call(e,e.__data[d],n[d]):!r.dynamicFn&&console.warn('observer method `'+r.methodName+'` not defined')}function o(e,t,n,r,o){let i,s=e[Y.NOTIFY],p=H++;for(let _ in t)t[_]&&(s&&a(e,s,p,_,n,r,o)?i=!0:o&&d(e,_,n)&&(i=!0));let _;i&&(_=e.__dataHost)&&_._invalidateProperties&&_._invalidateProperties()}function d(e,t,a){let n=Polymer.Path.root(t);if(n!==t){let r=Polymer.CaseMap.camelToDashCase(n)+'-changed';return i(e,r,a[t],t),!0}return!1}function i(e,t,a,n){let r={value:a,queueProperty:!0};n&&(r.path=n),e.dispatchEvent(new CustomEvent(t,{detail:r}))}function s(e,t,a,n,r,o){let d=o?Polymer.Path.root(t):t,s=d==t?null:t,p=s?Polymer.Path.get(e,s):e.__data[t];s&&p===void 0&&(p=a[t]),i(e,r.eventName,p,s)}function p(e,t,a,n,r){let o,d=e.detail,i=d&&d.path;i?(n=Polymer.Path.translate(a,n,i),o=d&&d.value):o=e.target[a],o=r?!o:o,t[Y.READ_ONLY]&&t[Y.READ_ONLY][n]||!t._setPendingPropertyOrPath(n,o,!0,!!i)||d&&d.queueProperty||t._invalidateProperties()}function _(e,t,a,n,r){let o=e.__data[t];Polymer.sanitizeDOMValue&&(o=Polymer.sanitizeDOMValue(o,r.attrName,'attribute',e)),e._propertyToAttribute(t,r.attrName,o)}function l(e,a,n,r){let o=e[Y.COMPUTE];if(o)for(let d=a;t(e,o,d,n,r);)Object.assign(n,e.__dataOld),Object.assign(a,e.__dataPending),d=e.__dataPending,e.__dataPending=null}function h(e,t,a,n,r){let o=N(e,t,a,n,r),d=r.methodInfo;e.__dataHasAccessor&&e.__dataHasAccessor[d]?e._setPendingProperty(d,o,!0):e[d]=o}function P(e,t,n){let r=e.__dataLinkedPaths;if(r){let o;for(let d in r){let a=r[d];Polymer.Path.isDescendant(d,t)?(o=Polymer.Path.translate(d,a,t),e._setPendingPropertyOrPath(o,n,!0,!0)):Polymer.Path.isDescendant(a,t)&&(o=Polymer.Path.translate(a,d,t),e._setPendingPropertyOrPath(o,n,!0,!0))}}}function g(e,t,a,n,r,o,d){a.bindings=a.bindings||[];let s={kind:n,target:r,parts:o,literal:d,isCompound:1!==o.length};if(a.bindings.push(s),y(s)){let{event:e,negate:t}=s.parts[0];s.listenerEvent=e||D.camelToDashCase(r)+'-changed',s.listenerNegate=t}let p=t.nodeInfoList.length;for(let _,l=0;l<s.parts.length;l++)_=s.parts[l],_.compoundIndex=l,f(e,t,s,_,p)}function f(e,t,a,n,r){if(!n.literal)if('attribute'===a.kind&&'-'===a.target[0])console.warn('Cannot set attribute '+a.target+' because "-" is not a valid attribute starting character');else{let o=n.dependencies,d={index:r,binding:a,part:n,evaluator:e};for(let a,n=0;n<o.length;n++)a=o[n],'string'==typeof a&&(a=A(a),a.wildcard=!0),e._addTemplatePropertyEffect(t,a.rootProperty,{fn:c,info:d,trigger:a})}}function c(e,t,a,n,r,o,d){let i=d[r.index],s=r.binding,p=r.part;if(o&&p.source&&t.length>p.source.length&&'property'==s.kind&&!s.isCompound&&i.__dataHasAccessor&&i.__dataHasAccessor[s.target]){let n=a[t];t=Polymer.Path.translate(p.source,s.target,t),i._setPendingPropertyOrPath(t,n,!1,!0)&&e._enqueueClient(i)}else{let d=r.evaluator._evaluateBinding(e,p,t,a,n,o);u(e,i,s,p,d)}}function u(e,t,a,n,r){if(r=m(t,r,a,n),Polymer.sanitizeDOMValue&&(r=Polymer.sanitizeDOMValue(r,a.target,a.kind,t)),'attribute'==a.kind)e._valueToNodeAttribute(t,r,a.target);else{let n=a.target;t.__dataHasAccessor&&t.__dataHasAccessor[n]?(!t[Y.READ_ONLY]||!t[Y.READ_ONLY][n])&&t._setPendingProperty(n,r)&&e._enqueueClient(t):e._setUnmanagedPropertyToNode(t,n,r)}}function m(e,t,a,n){if(a.isCompound){let r=e.__dataCompoundStorage[a.target];r[n.compoundIndex]=t,t=r.join('')}return'attribute'!==a.kind&&('textContent'===a.target||'value'===a.target&&('input'===e.localName||'textarea'===e.localName))&&(t=void 0==t?'':t),t}function y(e){return!!e.target&&'attribute'!=e.kind&&'text'!=e.kind&&!e.isCompound&&'{'===e.parts[0].mode}function E(e,t){let{nodeList:a,nodeInfoList:n}=t;if(n.length)for(let t=0;t<n.length;t++){let r=n[t],o=a[t],d=r.bindings;if(d)for(let t,a=0;a<d.length;a++)t=d[a],C(o,t),T(o,e,t);o.__dataHost=e}}function C(e,t){if(t.isCompound){let a=e.__dataCompoundStorage||(e.__dataCompoundStorage={}),n=t.parts,r=Array(n.length);for(let e=0;e<n.length;e++)r[e]=n[e].literal;let o=t.target;a[o]=r,t.literal&&'property'==t.kind&&(e[o]=t.literal)}}function T(e,t,a){if(a.listenerEvent){let n=a.parts[0];e.addEventListener(a.listenerEvent,function(r){p(r,t,a.target,n.source,n.negate)})}}function O(e,t,a,n,r,o){o=t.static||o&&('object'!==typeof o||o[t.methodName]);let d={methodName:t.methodName,args:t.args,methodInfo:r,dynamicFn:o};for(let s,p=0;p<t.args.length&&(s=t.args[p]);p++)s.literal||e._addPropertyEffect(s.rootProperty,a,{fn:n,info:d,trigger:s});o&&e._addPropertyEffect(t.methodName,a,{fn:n,info:d})}function N(e,t,a,n,r){let o=e._methodHost||e,d=o[r.methodName];if(d){let n=L(e.__data,r.args,t,a);return d.apply(o,n)}r.dynamicFn||console.warn('method `'+r.methodName+'` not defined')}function b(e){let t='';for(let a,n=0;n<e.length;n++)a=e[n].literal,t+=a||'';return t}function v(e){let t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){let e=t[1],a={methodName:e,static:!0,args:M};if(t[2].trim()){let e=t[2].replace(/\\,/g,'&comma;').split(',');return I(e,a)}return a}return null}function I(e,t){return t.args=e.map(function(e){let a=A(e);return a.literal||(t.static=!1),a},this),t}function A(e){let t=e.trim().replace(/&comma;/g,',').replace(/\\(.)/g,'$1'),n={name:t,value:'',literal:!1},a=t[0];return'-'===a&&(a=t[1]),'0'<=a&&'9'>=a&&(a='#'),'\''===a||'"'===a?(n.value=t.slice(1,-1),n.literal=!0):'#'===a?(n.value=+t,n.literal=!0):void 0,(n.literal||(n.rootProperty=Polymer.Path.root(t),n.structured=Polymer.Path.isPath(t),n.structured&&(n.wildcard='.*'==t.slice(-2),n.wildcard&&(n.name=t.slice(0,-2)))),n)}function L(e,t,a,n){let r=[];for(let o=0,d=t.length;o<d;o++){let d,i=t[o],s=i.name;if(i.literal?d=i.value:i.structured?(d=Polymer.Path.get(e,s),void 0===d&&(d=n[s])):d=e[s],i.wildcard){let e=0===s.indexOf(a+'.'),t=0===a.indexOf(s)&&!e;r[o]={path:t?a:s,value:t?n[a]:d,base:d}}else r[o]=d}return r}function R(e,t,a,n){let r=a+'.splices';e.notifyPath(r,{indexSplices:n}),e.notifyPath(a+'.length',t.length),e.__data[r]={indexSplices:null}}function x(e,t,a,n,r,o){R(e,t,a,[{index:n,addedCount:r,removed:o,object:t,type:'splice'}])}function k(e){return e[0].toUpperCase()+e.substring(1)}const D=Polymer.CaseMap;let H=0;const Y={COMPUTE:'__computeEffects',REFLECT:'__reflectEffects',NOTIFY:'__notifyEffects',PROPAGATE:'__propagateEffects',OBSERVE:'__observeEffects',READ_ONLY:'__readOnly'};let F;const M=[],S='(?:[a-zA-Z_$][\\w.:$\\-*]*)',w='(?:('+S+'|'+'(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)'+'|'+('(?:'+'(?:\'(?:[^\'\\\\]|\\\\.)*\')'+'|'+'(?:"(?:[^"\\\\]|\\\\.)*")'+')')+')\\s*)',z=/(\[\[|{{)\s*(?:(!)\s*)?((?:[a-zA-Z_$][\w.:$\-*]*)\s*(?:\(\s*(?:(?:(?:((?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*")))\s*)(?:,\s*(?:((?:[a-zA-Z_$][\w.:$\-*]*)|(?:[-+]?[0-9]*\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\]|\\.)*')|(?:"(?:[^"\\]|\\.)*")))\s*))*)?)\)\s*)?)(?:]]|}})/g;Polymer.PropertyEffects=Polymer.dedupingMixin((a)=>{const n=Polymer.TemplateStamp(Polymer.PropertyAccessors(a));class d extends n{constructor(){super(),this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__dataCounter,this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return Y}_initializeProperties(){super._initializeProperties(),B.registerHost(this),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_initializeProtoProperties(e){this.__data=Object.create(e),this.__dataPending=Object.create(e),this.__dataOld={}}_initializeInstanceProperties(e){let t=this[Y.READ_ONLY];for(let a in e)t&&t[a]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[a]=this.__dataPending[a]=e[a])}_addPropertyEffect(t,a,n){this._createPropertyAccessor(t,a==Y.READ_ONLY);let r=e(this,a)[t];r||(r=this[a][t]=[]),r.push(n)}_removePropertyEffect(t,a,n){let r=e(this,a)[t],o=r.indexOf(n);0<=o&&r.splice(o,1)}_hasPropertyEffect(e,t){let a=this[t];return!!(a&&a[e])}_hasReadOnlyEffect(e){return this._hasPropertyEffect(e,Y.READ_ONLY)}_hasNotifyEffect(e){return this._hasPropertyEffect(e,Y.NOTIFY)}_hasReflectEffect(e){return this._hasPropertyEffect(e,Y.REFLECT)}_hasComputedEffect(e){return this._hasPropertyEffect(e,Y.COMPUTE)}_setPendingPropertyOrPath(e,t,a,n){if(n||Polymer.Path.root(Array.isArray(e)?e[0]:e)!==e){if(!n){let a=Polymer.Path.get(this,e);if(e=Polymer.Path.set(this,e,t),!e||!super._shouldPropertyChange(e,t,a))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(e,t,a))return P(this,e,t),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[e])return this._setPendingProperty(e,t,a);this[e]=t}return!1}_setUnmanagedPropertyToNode(e,t,a){(a!==e[t]||'object'==typeof a)&&(e[t]=a)}_setPendingProperty(e,t,a){let n=this.__dataHasPaths&&Polymer.Path.isPath(e),r=n?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(e,t,r[e])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),e in this.__dataOld||(this.__dataOld[e]=this.__data[e]),n?this.__dataTemp[e]=t:this.__data[e]=t,this.__dataPending[e]=t,(n||this[Y.NOTIFY]&&this[Y.NOTIFY][e])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[e]=a),!0)}_setProperty(e,t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(e){this.__dataPendingClients=this.__dataPendingClients||[],e!==this&&this.__dataPendingClients.push(e)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(let t,a=0;a<e.length;a++)t=e[a],t.__dataEnabled?t.__dataPending&&t._flushProperties():t._enableProperties()}}_readyClients(){this.__enableOrFlushClients()}setProperties(e,t){for(let a in e)!t&&this[Y.READ_ONLY]&&this[Y.READ_ONLY][a]||this._setPendingPropertyOrPath(a,e[a],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(e,a,n){let r=this.__dataHasPaths;this.__dataHasPaths=!1,l(this,a,n,r);let d=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(a,n,r),this._flushClients(),t(this,this[Y.REFLECT],a,n,r),t(this,this[Y.OBSERVE],a,n,r),d&&o(this,d,a,n,r),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(e,a,n){this[Y.PROPAGATE]&&t(this,this[Y.PROPAGATE],e,a,n);for(let r=this.__templateInfo;r;)t(this,r.propertyEffects,e,a,n,r.nodeList),r=r.nextTemplateInfo}linkPaths(e,t){e=Polymer.Path.normalize(e),t=Polymer.Path.normalize(t),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[e]=t}unlinkPaths(e){e=Polymer.Path.normalize(e),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[e]}notifySplices(e,t){let a={path:''},n=Polymer.Path.get(this,e,a);R(this,n,a.path,t)}get(e,t){return Polymer.Path.get(t||this,e)}set(e,t,a){a?Polymer.Path.set(a,e,t):(!this[Y.READ_ONLY]||!this[Y.READ_ONLY][e])&&this._setPendingPropertyOrPath(e,t,!0)&&this._invalidateProperties()}push(e,...t){let a={path:''},n=Polymer.Path.get(this,e,a),r=n.length,o=n.push(...t);return t.length&&x(this,n,a.path,r,t.length,[]),o}pop(e){let t={path:''},a=Polymer.Path.get(this,e,t),n=!!a.length,r=a.pop();return n&&x(this,a,t.path,a.length,0,[r]),r}splice(e,t,a,...n){var r=Math.floor;let o={path:''},d=Polymer.Path.get(this,e,o);t=0>t?d.length-r(-t):r(t),t||(t=0);let i=d.splice(t,a,...n);return(n.length||i.length)&&x(this,d,o.path,t,n.length,i),i}shift(e){let t={path:''},a=Polymer.Path.get(this,e,t),n=!!a.length,r=a.shift();return n&&x(this,a,t.path,0,0,[r]),r}unshift(e,...t){let a={path:''},n=Polymer.Path.get(this,e,a),r=n.unshift(...t);return t.length&&x(this,n,a.path,0,t.length,[]),r}notifyPath(e,t){let a;if(1==arguments.length){let n={path:''};t=Polymer.Path.get(this,e,n),a=n.path}else a=Array.isArray(e)?Polymer.Path.normalize(e):e;this._setPendingPropertyOrPath(a,t,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(e,t){this._addPropertyEffect(e,Y.READ_ONLY),t&&(this['_set'+k(e)]=function(t){this._setProperty(e,t)})}_createPropertyObserver(e,t,a){let n={property:e,methodName:t,dynamicFn:!!a};this._addPropertyEffect(e,Y.OBSERVE,{fn:r,info:n,trigger:{name:e}}),a&&this._addPropertyEffect(t,Y.OBSERVE,{fn:r,info:n,trigger:{name:t}})}_createMethodObserver(e,t){let a=v(e);if(!a)throw new Error('Malformed observer expression \''+e+'\'');O(this,a,Y.OBSERVE,N,null,t)}_createNotifyingProperty(e){this._addPropertyEffect(e,Y.NOTIFY,{fn:s,info:{eventName:D.camelToDashCase(e)+'-changed',property:e}})}_createReflectedProperty(e){let t=D.camelToDashCase(e);'-'===t[0]?console.warn('Property '+e+' cannot be reflected to attribute '+t+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(e,Y.REFLECT,{fn:_,info:{attrName:t}})}_createComputedProperty(e,t,a){let n=v(t);if(!n)throw new Error('Malformed computed expression \''+t+'\'');O(this,n,Y.COMPUTE,h,e,a)}static addPropertyEffect(e,t,a){this.prototype._addPropertyEffect(e,t,a)}static createPropertyObserver(e,t,a){this.prototype._createPropertyObserver(e,t,a)}static createMethodObserver(e,t){this.prototype._createMethodObserver(e,t)}static createNotifyingProperty(e){this.prototype._createNotifyingProperty(e)}static createReadOnlyProperty(e,t){this.prototype._createReadOnlyProperty(e,t)}static createReflectedProperty(e){this.prototype._createReflectedProperty(e)}static createComputedProperty(e,t,a){this.prototype._createComputedProperty(e,t,a)}static bindTemplate(e){return this.prototype._bindTemplate(e)}_bindTemplate(e,t){let a=this.constructor._parseTemplate(e),n=this.__templateInfo==a;if(!n)for(let e in a.propertyEffects)this._createPropertyAccessor(e);if(t&&(a=Object.create(a),a.wasPreBound=n,!n&&this.__templateInfo)){let e=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=e.nextTemplateInfo=a,a.previousTemplateInfo=e,a}return this.__templateInfo=a}static _addTemplatePropertyEffect(e,t,a){let n=e.hostProps=e.hostProps||{};n[t]=!0;let r=e.propertyEffects=e.propertyEffects||{},o=r[t]=r[t]||[];o.push(a)}_stampTemplate(e){B.beginHosting(this);let a=super._stampTemplate(e);B.endHosting(this);let n=this._bindTemplate(e,!0);if(n.nodeList=a.nodeList,!n.wasPreBound){let e=n.childNodes=[];for(let t=a.firstChild;t;t=t.nextSibling)e.push(t)}return a.templateInfo=n,E(this,n),this.__dataReady&&t(this,n.propertyEffects,this.__data,null,!1,n.nodeList),a}_removeBoundDom(e){let t=e.templateInfo;t.previousTemplateInfo&&(t.previousTemplateInfo.nextTemplateInfo=t.nextTemplateInfo),t.nextTemplateInfo&&(t.nextTemplateInfo.previousTemplateInfo=t.previousTemplateInfo),this.__templateInfoLast==t&&(this.__templateInfoLast=t.previousTemplateInfo),t.previousTemplateInfo=t.nextTemplateInfo=null;let a=t.childNodes;for(let t,n=0;n<a.length;n++)t=a[n],t.parentNode.removeChild(t)}static _parseTemplateNode(e,t,a){let n=super._parseTemplateNode(e,t,a);if(e.nodeType===Node.TEXT_NODE){let r=this._parseBindings(e.textContent,t);r&&(e.textContent=b(r)||' ',g(this,t,a,'text','textContent',r),n=!0)}return n}static _parseTemplateNodeAttribute(e,t,a,n,r){let o=this._parseBindings(r,t);if(o){let r=n,d='property';'$'==n[n.length-1]&&(n=n.slice(0,-1),d='attribute');let i=b(o);return i&&'attribute'==d&&e.setAttribute(n,i),'input'===e.localName&&'value'===r&&e.setAttribute(r,''),e.removeAttribute(r),'property'===d&&(n=Polymer.CaseMap.dashToCamelCase(n)),g(this,t,a,d,n,o,i),!0}return super._parseTemplateNodeAttribute(e,t,a,n,r)}static _parseTemplateNestedTemplate(e,t,a){let n=super._parseTemplateNestedTemplate(e,t,a),r=a.templateInfo.hostProps;for(let n in r){g(this,t,a,'property','_host_'+n,[{mode:'{',source:n,dependencies:[n]}])}return n}static _parseBindings(e,t){let a,n=[],r=0;for(;null!==(a=z.exec(e));){a.index>r&&n.push({literal:e.slice(r,a.index)});let o=a[1][0],d=!!a[2],i=a[3].trim(),s=!1,p='',_=-1;'{'==o&&0<(_=i.indexOf('::'))&&(p=i.substring(_+2),i=i.substring(0,_),s=!0);let l=v(i),h=[];if(l){let{args:e,methodName:a}=l;for(let t,a=0;a<e.length;a++)t=e[a],t.literal||h.push(t);let n=t.dynamicFns;(n&&n[a]||l.static)&&(h.push(a),l.dynamicFn=!0)}else h.push(i);n.push({source:i,mode:o,negate:d,customEvent:s,signature:l,dependencies:h,event:p}),r=z.lastIndex}if(r&&r<e.length){let t=e.substring(r);t&&n.push({literal:t})}return n.length?n:null}static _evaluateBinding(e,t,a,n,r,o){let d;return d=t.signature?N(e,a,n,r,t.signature):a==t.source?o&&Polymer.Path.isPath(a)?Polymer.Path.get(e,a):e.__data[a]:Polymer.Path.get(e,t.source),t.negate&&(d=!d),d}}return F=d,d});let B={stack:[],registerHost(e){if(this.stack.length){let t=this.stack[this.stack.length-1];t._enqueueClient(e)}},beginHosting(e){this.stack.push(e)},endHosting(e){let t=this.stack.length;t&&this.stack[t-1]==e&&this.stack.pop()}}})();</script><script>(function(){'use strict';Polymer.ElementMixin=Polymer.dedupingMixin((a)=>{function b(a){return a.hasOwnProperty(JSCompiler_renameProperty('__ownProperties',a))||(a.__ownProperties=a.hasOwnProperty(JSCompiler_renameProperty('properties',a))?a.properties:{}),a.__ownProperties}function c(a){return a.hasOwnProperty(JSCompiler_renameProperty('__ownObservers',a))||(a.__ownObservers=a.hasOwnProperty(JSCompiler_renameProperty('observers',a))?a.observers:[]),a.__ownObservers}function d(a,b){for(let c in b){let d=b[c];'function'==typeof d&&(d={type:d}),a[c]=d}return a}function e(a){if(!a.hasOwnProperty(JSCompiler_renameProperty('__classProperties',a))){a.__classProperties=d({},b(a));let c=Object.getPrototypeOf(a.prototype).constructor;c.prototype instanceof o&&(a.__classProperties=Object.assign(Object.create(e(c)),a.__classProperties))}return a.__classProperties}function f(a){if(!a.hasOwnProperty(JSCompiler_renameProperty('__classPropertyDefaults',a))){a.__classPropertyDefaults=null;let b=e(a);for(let c in b){let d=b[c];'value'in d&&(a.__classPropertyDefaults=a.__classPropertyDefaults||{},a.__classPropertyDefaults[c]=d)}}return a.__classPropertyDefaults}function g(a){return a.hasOwnProperty(JSCompiler_renameProperty('__finalized',a))}function h(a){let b=a.prototype,c=Object.getPrototypeOf(b).constructor;c.prototype instanceof o&&c.finalize(),i(a)}function i(a){a.__finalized=!0;let d=a.prototype;a.hasOwnProperty(JSCompiler_renameProperty('is',a))&&a.is&&Polymer.telemetry.register(d);let e=b(a);e&&j(d,e);let f=c(a);f&&k(d,f,e);let g=a.template;if(g){if('string'===typeof g){let a=document.createElement('template');a.innerHTML=g,g=a}else g=g.cloneNode(!0);d._template=g}}function j(a,b){for(let c in b)l(a,c,b[c],b)}function k(a,b,c){for(let d=0;d<b.length;d++)a._createMethodObserver(b[d],c)}function l(a,b,c,d){c.computed&&(c.readOnly=!0),c.computed&&!a._hasReadOnlyEffect(b)&&a._createComputedProperty(b,c.computed,d),c.readOnly&&!a._hasReadOnlyEffect(b)&&a._createReadOnlyProperty(b,!c.computed),c.reflectToAttribute&&!a._hasReflectEffect(b)&&a._createReflectedProperty(b),c.notify&&!a._hasNotifyEffect(b)&&a._createNotifyingProperty(b),c.observer&&a._createPropertyObserver(b,c.observer,d[c.observer])}const m=Polymer.PropertyEffects(a);let n=Polymer.CaseMap;class o extends m{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty('__observedAttributes',this))){let a=[],b=e(this);for(let c in b)a.push(Polymer.CaseMap.camelToDashCase(c));this.__observedAttributes=a}return this.__observedAttributes}static finalize(){g(this)||h(this)}static get template(){return this.hasOwnProperty(JSCompiler_renameProperty('_template',this))||(this._template=Polymer.DomModule&&Polymer.DomModule.import(this.is,'template')||Object.getPrototypeOf(this.prototype).constructor.template),this._template}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty('_importPath',this))){const a=Polymer.DomModule&&Polymer.DomModule.import(this.is);this._importPath=a?a.assetpath:Object.getPrototypeOf(this.prototype).constructor.importPath}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){Polymer.telemetry.instanceCount++,this.constructor.finalize();const a=this.constructor.importPath;this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=Polymer.rootPath,this.importPath=a;let b=f(this.constructor);if(b)for(let a in b){let c=b[a];if(!this.hasOwnProperty(a)){let b='function'==typeof c.value?c.value.call(this):c.value;this._hasAccessor(a)?this._setPendingProperty(a,b,!0):this[a]=b}}}static _processStyleText(a,b,c){return Polymer.StyleGather.cssFromModuleImports(a)+Polymer.StyleGather.cssFromTemplate(b,c)}static _finalizeTemplate(a,b){const c=this.prototype._template;if(c&&!c.__polymerFinalized){c.__polymerFinalized=!0;const d=this.importPath,e=d?Polymer.ResolveUrl.resolveUrl(d):'';let f=this._processStyleText(a,c,e);if(f){let a=document.createElement('style');a.textContent=f,c.content.insertBefore(a,c.content.firstChild)}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(c,a,b),this.prototype._bindTemplate(c)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),this._enableProperties()}disconnectedCallback(){}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(a){if(this.attachShadow)return a?(this.shadowRoot||this.attachShadow({mode:'open'}),this.shadowRoot.appendChild(a),this.shadowRoot):null;throw new Error('ShadowDOM not available. Polymer.Element can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.')}attributeChangedCallback(a,b,c){if(b!==c){let b=n.dashToCamelCase(a),d=e(this.constructor)[b].type;this._hasReadOnlyEffect(b)||this._attributeToProperty(a,c,d)}}updateStyles(a){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,a)}resolveUrl(a,b){return!b&&this.importPath&&(b=Polymer.ResolveUrl.resolveUrl(this.importPath)),Polymer.ResolveUrl.resolveUrl(a,b)}static _parseTemplateContent(a,b,c){return b.dynamicFns=b.dynamicFns||e(this),super._parseTemplateContent(a,b,c)}}return o}),Polymer.telemetry={instanceCount:0,registrations:[],_regLog:function(a){console.log('['+a.is+']: registered')},register:function(a){this.registrations.push(a),Polymer.log&&this._regLog(a)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}},Polymer.updateStyles=function(a){window.ShadyCSS&&window.ShadyCSS.styleDocument(a)}})();</script><script>(function(){'use strict';const a=Polymer.ElementMixin(HTMLElement);Polymer.Element=a})();</script><link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet"><script>window.AudioContext=window.AudioContext||window.webkitAudioContext;function VoiceRecorder(a,b){this.autodetect=a,this.onStopRecordComplete=b,this.microphone,this.isRecording=!1,this.isSpeaking=!1,this.audioContext,this.leftChannel=[],this.recordingLength=0,this.processor,this.config={sampleRate:44100,bufferLen:4096,numChannels:1,mimeType:'audio/mpeg'},this.analyzer=(a)=>{let b=a.createAnalyser();this.microphone.connect(b),b.fftSize=256;var c=b.frequencyBinCount;new Uint8Array(c)},this.onAudioProcess=(a)=>{var b=a.inputBuffer.getChannelData(0);this.recordingLength+=this.config.bufferLen,this.leftChannel.push(new Float32Array(b));var c,d=0,e=0;for(c=0;c<b.length;++c)d+=b[c]*b[c],0.99<Math.abs(b[c])&&(e+=1);var f=Math.sqrt(d/b.length);f>0.04?(this.isSpeaking=!0,clearTimeout(this.speakingTimeout)):this.isSpeaking&&(this.isSpeaking=!1,clearTimeout(this.speakingTimeout),this.speakingTimeout=setTimeout(()=>{this.stopRecord()},500))},this.logError=(a)=>{console.error(a)},this.startRecord=()=>{this.audioContext=new AudioContext,this.audioContext.createJavaScriptNode?this.processor=this.audioContext.createJavaScriptNode(this.config.bufferLen,this.config.numChannels,this.config.numChannels):this.audioContext.createScriptProcessor?this.processor=this.audioContext.createScriptProcessor(this.config.bufferLen,this.config.numChannels,this.config.numChannels):console.log('WebAudio API has no support on this browser.'),this.processor.connect(this.audioContext.destination),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(this.gotStreamMethod.bind(this)).catch(this.logError)},this.getBuffers=(a)=>{for(var b=[],c=0;2>c;++c)b[c]=a.inputBuffer.getChannelData(c);return b},this.gotStreamMethod=(a)=>{this.isRecording=!0,this.tracks=a.getTracks(),this.microphone=this.audioContext.createMediaStreamSource(a),this.microphone.connect(this.processor),this.autodetect&&(this.processor.onaudioprocess=this.onAudioProcess),this.analyzer(this.audioContext)},this.clearRecordedData=()=>{this.recordingLength=0,this.leftChannel=[]},this.stopRecord=()=>{var a=this.onStopRecordComplete;this.isRecording=!1,this.audioContext.close(),this.processor.disconnect(),this.tracks.forEach((a)=>a.stop()),this.mergeLeftRightBuffers({sampleRate:this.config.sampleRate,numberOfAudioChannels:this.config.numChannels,internalInterleavedLength:this.recordingLength,leftBuffers:this.leftChannel,rightBuffers:1===this.config.numChannels?[]:rightChannel},(b,c)=>{self.blob=new Blob([c],{type:'audio/wav'}),self.buffer=new ArrayBuffer(c.buffer.byteLength),self.view=c,self.sampleRate=this.config.sampleRate,self.bufferSize=this.config.bufferLen,self.length=this.recordingLength,a&&a(self.blob),this.clearRecordedData(),isAudioProcessStarted=!1})},this.mergeLeftRightBuffers=(a,b)=>{var c=this.processInWebWorker(function(a,b){function c(a,b,c){var e=Math.round(a.length*(b/c)),f=[],g=+((a.length-1)/(e-1));f[0]=a[0];for(var h=1;h<e-1;h++){var i=h*g,j=(+Math.floor(i)).toFixed(),k=(+Math.ceil(i)).toFixed();f[h]=d(a[j],a[k],i-j)}return f[e-1]=a[a.length-1],f}function d(a,b,c){return a+(b-a)*c}function e(a,b){for(var c,d=new Float64Array(b),e=0,f=a.length,g=0;g<f;g++)c=a[g],d.set(c,e),e+=c.length;return d}function f(a,b,c){for(var d=c.length,e=0;e<d;e++)a.setUint8(b+e,c.charCodeAt(e))}var g=a.numberOfAudioChannels,h=a.leftBuffers.slice(0),j=a.rightBuffers.slice(0),k=a.sampleRate,l=a.internalInterleavedLength,m=a.desiredSampRate;2===g&&(h=e(h,l),j=e(j,l),m&&(h=c(h,m,k),j=c(j,m,k))),1===g&&(h=e(h,l),m&&(h=c(h,m,k))),m&&(k=m);var n;2===g&&(n=function(a,b){for(var c=a.length+b.length,d=new Float64Array(c),e=0,f=0;f<c;)d[f++]=a[e],d[f++]=b[e],e++;return d}(h,j)),1===g&&(n=h);var o=n.length,p=new ArrayBuffer(44+2*o),q=new DataView(p);f(q,0,'RIFF'),q.setUint32(4,44+2*o,!0),f(q,8,'WAVE'),f(q,12,'fmt '),q.setUint32(16,16,!0),q.setUint16(20,1,!0),q.setUint16(22,g,!0),q.setUint32(24,k,!0),q.setUint32(28,2*k,!0),q.setUint16(32,2*g,!0),q.setUint16(34,16,!0),f(q,36,'data'),q.setUint32(40,2*o,!0);for(var r=44,s=0;s<o;s++)q.setInt16(r,n[s]*(32767*1),!0),r+=2;return b?b({buffer:p,view:q}):void postMessage({buffer:p,view:q})});c.onmessage=function(a){b(a.data.buffer,a.data.view),URL.revokeObjectURL(c.workerURL)},c.postMessage(a)},this.processInWebWorker=(a)=>{var b=URL.createObjectURL(new Blob([a.toString(),';this.onmessage =  function (e) {'+a.name+'(e.data);}'],{type:'application/javascript'})),c=new Worker(b);return c.workerURL=b,c}}</script><script>function CircleViz(a,b){this.containerEl=a,this.stopped=!0,this.circle=document.createElement('div'),this.circle.classList.add('circle'),this.containerEl.appendChild(this.circle),this.isMobile=window.mobileAndTabletcheck(),this.onNoMicAccess=b,this.attachedUserMediaStream=!1;var c=window.AudioContext||window.webkitAudioContext;'undefined'!==typeof c&&(this.audioContext=new c),this.attachUserMediaStream=()=>{this.attachedUserMediaStream&&(!this.audioStream||this.audioStream.active)||(this.isMobile?this.doDraw():navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!0}).then(this.soundAllowed.bind(this)).catch(this.soundNotAllowed.bind(this)):(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||null,navigator.getUserMedia&&navigator.getUserMedia({audio:!0},(a)=>this.soundAllowed(a),(a)=>this.soundNotAllowed(a))),this.attachedUserMediaStream=!0)},this.soundNotAllowed=()=>{this.onNoMicAccess()},this.soundAllowed=(a)=>{if(this.audioStream=a,this.audioContext){var b=this.audioContext.createMediaStreamSource(a);this.analyser=this.audioContext.createAnalyser(),b.connect(this.analyser),this.analyser.fftSize=1024,this.frequencyArray=new Uint8Array(this.analyser.frequencyBinCount)}this.doDraw()},this.getCircleScale=()=>{let a=1;if(this.analyser){this.analyser.getByteFrequencyData(this.frequencyArray);let b=0;for(let a=0;255>a;a++)b+=this.frequencyArray[a];let c=b/255;a=1+1.2*(c/255)}else{let c=this.getCurrentScale();if(c){var b=1+Math.random();a=c+(b-c)/8}}return a},this.doDraw=()=>{if(!this.stopped){let a=this.getCircleScale();this.circle.style.transform='scale('+a+') translate(2px, 2px)'}else{let a=this.getCurrentScale();a&&0<a&&(a=Math.max(0,a-0.05),this.circle.style.transform='scale('+a+') translate(2px, 2px)')}this.animation=window.requestAnimationFrame(this.doDraw.bind(this))},this.getCurrentScale=()=>{let a=this.circle.style.transform&&''!==this.circle.style.transform?this.circle.style.transform:'scale(1)',b=a.split(new RegExp(/\(|\)/,'g'));if(2<b.length){let a=parseFloat(b[1]);return a}return null},this.startAnimation=()=>{this.stopped&&(this.containerEl.style.opacity=1,this.stopped=!1,this.attachUserMediaStream())},this.stopAnimation=()=>{this.stopped=!0,this.containerEl.style.opacity=0,this.audioStream&&0<this.audioStream.getAudioTracks().length&&this.audioStream.getAudioTracks()[0].stop()}}</script><script>window.componentTranslations={micNotAllowed:{af:"Kan nie toegang tot mikrofoon h\xEA nie",sq:"Nuk mund t\xEB hyni n\xEB mikrofon",am:"\u121B\u12ED\u12AD\u122E\u134E\u1295 \u1218\u12F5\u1228\u1235 \u12A0\u120D\u1270\u127B\u1208\u121D",ar:"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0627\u0644\u062F\u062E\u0648\u0644 \u0625\u0644\u0649 \u0627\u0644\u0645\u064A\u0643\u0631\u0648\u0641\u0648\u0646",hy:"\u0540\u0576\u0561\u0580\u0561\u057E\u0578\u0580 \u0579\u0567 \u0574\u0578\u0582\u057F\u0584 \u0563\u0578\u0580\u056E\u0565\u056C \u056D\u0578\u057D\u0561\u0583\u0578\u0572",az:"Mikrofona daxil ola bilmir",eu:"Ezin da mikrofonoa atzitu",be:"\u041D\u0435 \u045E\u0434\u0430\u0435\u0446\u0446\u0430 \u0430\u0442\u0440\u044B\u043C\u0430\u0446\u044C \u0434\u043E\u0441\u0442\u0443\u043F \u0434\u0430 \u043C\u0456\u043A\u0440\u0430\u0444\u043E\u043D\u0443",bs:"Ne mogu pristupiti mikrofonu",bg:"\u041D\u044F\u043C\u0430 \u0434\u043E\u0441\u0442\u044A\u043F \u0434\u043E \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0430",ca:"No es pot accedir al micr\xF2fon",ceb:"Dili maka-access sa mikropono",ny:"Sangathe kulumikiza maikolofoni",zh:"\u65E0\u6CD5\u8BBF\u95EE\u9EA6\u514B\u98CE","zh-TW":"\u7121\u6CD5\u8A2A\u554F\u9EA5\u514B\u98A8",co:"\xD9n pudete micca accede \xE0 u micrufonu",hr:"Nije mogu\u0107e pristupiti mikrofonu",cs:"Nem\xE1 p\u0159\xEDstup k mikrofonu",da:"Kan ikke f\xE5 adgang til mikrofonen",nl:"Kan geen microfoon openen",en:"Cannot access microphone",eo:"Ne povas aliri mikrofonon",et:"Ei saa mikrofoni juurde p\xE4\xE4seda",tl:"Hindi ma-access ang mikropono",fi:"Mikrofonia ei voi k\xE4ytt\xE4\xE4",fr:"Impossible d&#39;acc\xE9der au microphone",fy:"Kin gjin mikrofoan tagong krije",gl:"Non se pode acceder ao micr\xF3fono",ka:"\u10DB\u10D8\u10D9\u10E0\u10DD\u10E4\u10DD\u10DC\u10D8 \u10D5\u10D4\u10E0 \u10EC\u10D5\u10D3\u10DD\u10DB\u10D0",de:"Kann nicht auf Mikrofon zugreifen",el:"\u0394\u03B5\u03BD \u03B5\u03AF\u03BD\u03B1\u03B9 \u03B4\u03C5\u03BD\u03B1\u03C4\u03AE \u03B7 \u03C0\u03C1\u03CC\u03C3\u03B2\u03B1\u03C3\u03B7 \u03C3\u03C4\u03BF \u03BC\u03B9\u03BA\u03C1\u03CC\u03C6\u03C9\u03BD\u03BF",gu:"\u0AAE\u0ABE\u0A87\u0A95\u0ACD\u0AB0\u0ACB\u0AAB\u0ACB\u0AA8\u0AA8\u0AC7 \u0A8D\u0A95\u0ACD\u0AB8\u0AC7\u0AB8 \u0A95\u0AB0\u0AC0 \u0AB6\u0A95\u0AA4\u0ABE \u0AA8\u0AA5\u0AC0",ht:"Pa ka jwenn mikwof\xF2n",ha:"Ba za a iya shiga makirufo ba",haw:"\u02BBA\u02BBole hiki ke ho\u02BBokomo i ka microphone",iw:"\u05DC\u05D0 \u05E0\u05D9\u05EA\u05DF \u05DC\u05D2\u05E9\u05EA \u05DC\u05DE\u05D9\u05E7\u05E8\u05D5\u05E4\u05D5\u05DF",hi:"\u092E\u093E\u0907\u0915\u094D\u0930\u094B\u092B\u093C\u094B\u0928 \u0924\u0915 \u0928\u0939\u0940\u0902 \u092A\u0939\u0941\u0902\u091A \u0938\u0915\u0924\u0947",hmn:"Mus saib tsis tau microphone",hu:"Nem lehet hozz\xE1f\xE9rni a mikrofonhoz",is:"Get ekki fengi\xF0 a\xF0gang a\xF0 hlj\xF3\xF0nemanum",ig:"Enwegh\u1ECB ike \u1ECBnweta igwe okwu",id:"Tidak dapat mengakses mikrofon",ga:"N\xED f\xE9idir rochtain a fh\xE1il ar mhicreaf\xF3n",it:"Impossibile accedere al microfono",ja:"\u30DE\u30A4\u30AF\u306B\u30A2\u30AF\u30BB\u30B9\u3067\u304D\u306A\u3044",jw:"Ora bisa ngakses mikropon",kn:"\u0CAE\u0CC8\u0C95\u0CCD\u0CB0\u0CCA\u0CAB\u0CCB\u0CA8\u0CCD \u0CAA\u0CCD\u0CB0\u0CB5\u0CC7\u0CB6\u0CBF\u0CB8\u0CB2\u0CC1 \u0CB8\u0CBE\u0CA7\u0CCD\u0CAF\u0CB5\u0CBF\u0CB2\u0CCD\u0CB2",kk:"\u041C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0493\u0430 \u043A\u0456\u0440\u0443 \u043C\u04AF\u043C\u043A\u0456\u043D \u0435\u043C\u0435\u0441",km:"\u1798\u17B7\u1793\u17A2\u17B6\u1785\u1785\u17BC\u179B\u178A\u17C6\u178E\u17BE\u179A\u1780\u17B6\u179A\u1798\u17B8\u1780\u17D2\u179A\u17BC\u17A0\u17D2\u179C\u17BC\u1793",ko:"\uB9C8\uC774\uD06C\uC5D0 \uC561\uC138\uC2A4 \uD560 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.",ku:"Mirov dikare m\xEEkrofon nikare",ky:"\u043A\u043E\u0435\u043B\u0443 \u043A\u0438\u0440\u0435 \u0430\u043B\u0431\u0430\u0439\u0442",lo:"\u0E9A\u0ECD\u0EC8\u0EAA\u0EB2\u0EA1\u0EB2\u0E94\u0EC0\u0E82\u0EBB\u0EC9\u0EB2\u0EC0\u0E96\u0EB4\u0E87\u0EC4\u0EA1\u0EC2\u0E84\u0EC2\u0E9F\u0E99",la:"Access potest non tortor ligula, facilisis",lv:"Nevar piek\u013C\u016Bt mikrofonam",lt:"Negalite pasiekti mikrofono",lb:"Kann net op den Mikrofon goen",mk:"\u041D\u0435 \u043C\u043E\u0436\u0430\u043C \u0434\u0430 \u043F\u0440\u0438\u0441\u0442\u0430\u043F\u0430\u043C \u043D\u0430 \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D",mg:"Tsy afaka mikitika mikr\xF4fo",ms:"Tidak boleh mengakses mikrofon",ml:"\u0D2E\u0D48\u0D15\u0D4D\u0D30\u0D4B\u0D2B\u0D4B\u0D7A \u0D06\u0D15\u0D4D\u0D38\u0D38\u0D4D\u0D38\u0D41\u0D1A\u0D46\u0D2F\u0D4D\u0D2F\u0D3E\u0D28\u0D3E\u0D35\u0D3F\u0D32\u0D4D\u0D32",mt:"Ma tistax ta\u010B\u010Bessa mikrofonu",mi:"Kaore e taea te uru ki te hopuorooro",mn:"\u041C\u0438\u043A\u0440\u043E\u0444\u043E\u043D \u0440\u0443\u0443 \u043D\u044D\u0432\u0442\u044D\u0440\u0447 \u0447\u0430\u0434\u0430\u0445\u0433\u04AF\u0439 \u0431\u0430\u0439\u043D\u0430",my:"\u1019\u102D\u102F\u1000\u103A\u1001\u101B\u102D\u102F\u1016\u102F\u1014\u103A\u1038\u1000\u102D\u102F\u101B\u101A\u1030\u1019\u1014\u102D\u102F\u1004\u103A",no:"Kan ikke f\xE5 tilgang til mikrofonen",ps:"\u0645\u0627\u06CC\u06A9\u0631\u0648\u0641\u0648\u0646 \u062A\u0647 \u0644\u0627\u0633\u0631\u0633\u06CC \u0646\u0634\u064A \u06A9\u0648\u0644\u06CC",fa:"\u0645\u06CC \u062A\u0648\u0627\u0646\u06CC\u062F \u0628\u0647 \u0645\u06CC\u06A9\u0631\u0648\u0641\u0648\u0646 \u062F\u0633\u062A\u0631\u0633\u06CC \u067E\u06CC\u062F\u0627 \u06A9\u0646\u06CC\u062F",pl:"Nie mo\u017Cna uzyska\u0107 dost\u0119pu do mikrofonu",pt:"N\xE3o \xE9 poss\xEDvel acessar o microfone",pa:"\u0A2E\u0A3E\u0A08\u0A15\u0A4D\u0A30\u0A4B\u0A2B\u0A4B\u0A28 \u0A24\u0A71\u0A15 \u0A2A\u0A39\u0A41\u0A70\u0A1A \u0A28\u0A39\u0A40\u0A02 \u0A15\u0A30 \u0A38\u0A15\u0A26\u0A3E",ro:"Nu pute\u021Bi accesa microfonul",ru:"\u041D\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044F \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u044C \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0443",sm:"E le mafai ona maua le masini faaleotele leo",gd:"Cha ghabh mi lorg air microf\xF2n",sr:"\u041D\u0435 \u043C\u043E\u0433\u0443 \u043F\u0440\u0438\u0441\u0442\u0443\u043F\u0438\u0442\u0438 \u043C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0443",st:"Ha e khone ho finyella microphone",sn:"Haikwanise kuwana maikorofoni",sd:"\u0645\u0627\u0626\u06AA\u0631\u0648\u0641\u0648\u0646 \u062A\u0627\u0626\u064A\u0646 \u0631\u0633\u0627\u0626\u064A \u0646\u0647 \u067F\u064A \u0633\u06AF\u06BE\u064A",si:"\u0DB8\u0DBA\u0DD2\u0D9A\u0DCA\u0DBB\u0DC6\u0DDD\u0DB1\u0DBA \u0DC0\u0DD9\u0DAD \u0DB4\u0DD2\u0DC0\u0DD2\u0DC3\u0DD2\u0DBA \u0DB1\u0DDC\u0DC4\u0DD0\u0D9A",sk:"Nem\xE1te pr\xEDstup k mikrof\xF3nu",sl:"Ne morem dostopati do mikrofona",so:"Ma heli kartid makarafoon",es:"No se puede acceder al micr\xF3fono",su:"moal bisa ngakses mikropon",sw:"Haiwezi kufikia kipaza sauti",sv:"Kan inte komma \xE5t mikrofonen",tg:"\u041C\u0438\u043A\u0440\u043E\u0444\u043E\u043D\u0440\u043E \u0431\u0430 \u043A\u043E\u0440 \u0430\u043D\u0434\u043E\u0445\u0442\u0430 \u043D\u0430\u043C\u0435\u0448\u0430\u0432\u0430\u0434",ta:"\u0BAE\u0BC8\u0B95\u0BCD\u0BB0\u0BCB\u0B83\u0BAA\u0BCB\u0BA9\u0BC8 \u0B85\u0BA3\u0BC1\u0B95 \u0BAE\u0BC1\u0B9F\u0BBF\u0BAF\u0BB5\u0BBF\u0BB2\u0BCD\u0BB2\u0BC8",te:"\u0C2E\u0C48\u0C15\u0C4D\u0C30\u0C4B\u0C2B\u0C4B\u0C28\u0C4D\u0C28\u0C41 \u0C2A\u0C4D\u0C30\u0C3E\u0C2A\u0C4D\u0C2F\u0C24 \u0C1A\u0C47\u0C2F\u0C32\u0C47\u0C30\u0C41",th:"\u0E44\u0E21\u0E48\u0E2A\u0E32\u0E21\u0E32\u0E23\u0E16\u0E40\u0E02\u0E49\u0E32\u0E16\u0E36\u0E07\u0E44\u0E21\u0E42\u0E04\u0E23\u0E42\u0E1F\u0E19\u0E44\u0E14\u0E49",tr:"Mikrofona eri\u015Filemiyor",uk:"\u041D\u0435 \u0432\u0434\u0430\u0454\u0442\u044C\u0441\u044F \u043E\u0442\u0440\u0438\u043C\u0430\u0442\u0438 \u0434\u043E\u0441\u0442\u0443\u043F \u0434\u043E \u043C\u0456\u043A\u0440\u043E\u0444\u043E\u043D\u0430",ur:"\u0645\u0627\u0626\u06CC\u06A9\u0631\u0648\u0641\u0648\u0646 \u062A\u06A9 \u0631\u0633\u0627\u0626\u06CC \u062D\u0627\u0635\u0644 \u0646\u06C1\u06CC\u06BA",uz:"Mikrofonga kirib bo&#39;lmadi",vi:"Kh\xF4ng th\u1EC3 truy c\u1EADp micr\xF4",cy:"Methu \xE2 chael mynediad i feicroffon",xh:"Ayikwazi ukufikelela kwimakrofoni"}};</script></div><dom-module id="voice-button"><template><style>:host{--active-color:#fe4042;--button-background-color:#FFFFFF;--circle-viz-color:#000;--text-color:#666;--button-diameter:100px;display:inline-block;height:var(--button-diameter);width:var(--button-diameter);}#paper-button{outline:none;background:var(--button-background-color);border:none;width:100%;height:100%;min-width:0;border-radius:50%;cursor:pointer;transition:all ease 0.25s;background-size:100%;background-repeat:no-repeat;background-position:center;box-shadow:0 2px 5px 0 rgba(0,0,0,.26);z-index:2;position:absolute;opacity:0.8;margin:0;left:0;}#paper-button.flat{box-shadow:0px 0px 0px 0px;}#paper-button:hover{box-shadow:0 4px 7px 0 rgba(0,0,0,.20);}#paper-button.disabled{box-shadow:0px 0px 0px 0px;cursor:not-allowed;opacity:0.5;}#paper-button.listening, #paper-button.user-input{box-shadow:0px 0px 0px 0px;opacity:1;background:var(--active-color);}#paper-button.flat:hover{box-shadow:0px 0px 0px 0px;}#paper-button.disabled:hover{box-shadow:0px 0px 0px 0px;}#circle-viz-container{position:absolute;z-index:0;opacity:0;}.svg-container{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(255, 0, 0, 0);z-index:3;pointer-events:none;}#mic-svg, #mic-svg-disabled, #mic-loading{height:64%;width:100%;display:block;position:absolute;top:-11%;left:0px;transform:translate(0, 50%);z-index:3;pointer-events:none;}#mic-loading{opacity:0;top:-14%;transform:translate(0, 50%) scale(0.8, 0.8);}#mic-loading circle:nth-child(1){animation:0.7s micLoading 0s infinite;}#mic-loading circle:nth-child(2){animation:0.7s micLoading 0.3s infinite;}#mic-loading circle:nth-child(3){animation:0.7s micLoading 0.5s infinite;}@keyframes micLoading{to{fill-opacity:0;}from{fill-opacity:1;}}.container #mic-svg-disabled{display:none;}.container.disabled #mic-svg-disabled{display:block;}.container.disabled #mic-svg{display:none;}.container.listening #mic-svg, .container.user-input #mic-svg{fill:#FFFFFF !important;}.container{position:absolute;height:var(--button-diameter);width:var(--button-diameter);}.circle{width:calc(var(--button-diameter) - 4px);height:calc(var(--button-diameter) - 4px);background-color:var(--circle-viz-color);opacity:0.2;border-radius:50%;position:absolute;transform-origin:center center;transform:scale(1);}#mic-not-allowed{font-family:'Noto Sans', sans-serif;font-size:1.0em;-webkit-font-smoothing:antialiased;color:var(--text-color);width:210px;top:100%;display:none;position:absolute;margin-left:0px;transform:translateX(-50%);left:50%;font-weight:400;text-align:center;vertical-align:bottom;margin-top:15px;}#mic-not-allowed.show{display:block;}</style><div class$="container [[state]]"><div id="circle-viz-container"></div><button id="paper-button" class$="voice-button [[state]] [[flatStr]] [[autoDetectStr]]"></button><div class="svg-container"><svg id="mic-svg" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="#000000"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg> <svg id="mic-svg-disabled" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="#000000"><path d="M0 0h24v24H0zm0 0h24v24H0z" fill="none"></path><path d="M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"></path></svg> <svg id="mic-loading" version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 727 353" fill="#ffffff"><circle cx="136.5" cy="176.5" r="73.5"></circle><circle cx="363.5" cy="176.5" r="73.5"></circle><circle cx="590.5" cy="176.5" r="73.5"></circle></svg></div><div id="mic-not-allowed">Cannot access microphone</div></div></template><script>const ListeningState=Object.freeze({IDLE:'idle',LISTENING:'listening',USER_INPUT:'user-input',DISABLED:'disabled'}),KeyboardTriggers=Object.freeze({ALL_KEYS:'all-keys',SPACE_BAR:'space-bar',NONE:'none'});var audioStream;class VoiceButton extends Polymer.Element{static get is(){return'voice-button'}static get properties(){return{flat:{type:Boolean,reflectToAttribute:!0,value:!1},autodetect:{type:Boolean,notify:!1,reflectToAttribute:!0,value:!1},clickForPermission:{type:Boolean,notify:!1,reflectToAttribute:!0,value:!1},hidePermissionText:{type:Boolean,notify:!1,reflectToAttribute:!0,value:!1},language:{type:String,reflectToAttribute:!0,value:'en-US'},disabled:{type:Boolean,notify:!0,reflectToAttribute:!0,value:!1,observer:'_onEnabledStateChange'},diameter:{type:Number,value:100},inverse:{type:Boolean,reflectToAttribute:!0,value:!1},keyboardTrigger:{type:String,reflectToAttribute:!0,value:KeyboardTriggers.SPACE_BAR},pressed:{type:Boolean,notify:!1,reflectToAttribute:!0,readOnly:!0,value:!1},micColor:{type:String,readOnly:!1,reflectToAttribute:!1,value:'#FFFFFF'},buttonColor:{type:String,readOnly:!1,reflectToAttribute:!1,value:'#666666'},textColor:{type:String,readOnly:!1,reflectToAttribute:!1,value:null},cloudSpeechApiKey:{type:String,readOnly:!1,reflectToAttribute:!1,value:null},ringColor:{type:String,readOnly:!0,reflectToAttribute:!1,value:''},rippleColor:{type:String,readOnly:!0,reflectToAttribute:!1,value:'#5f5f5f'},state:{type:String,notify:!1,readOnly:!0,reflectToAttribute:!0,value:ListeningState.IDLE,observer:'_onStateChange'},flatStr:String,autoDetectStr:String}}constructor(){super(),this._setState(ListeningState.IDLE)}checkWebRTC(){let a=window.AudioContext||window.webkitAudioContext;return'string'===typeof this.cloudSpeechApiKey&&a&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&Worker||(console.error('Need to provide a cloud-speech-api-key for support on this browser.'),!1)}ready(){super.ready(),this.useCloudSpeech=!1;var a=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(' OPR/');const b=window.webkitSpeechRecognition;if('undefined'===typeof b||a)if(this.checkWebRTC())this.useCloudSpeech=!0;else return this._setState(ListeningState.DISABLED),this.set('disabled',!0),void this.dispatchEvent(new CustomEvent('onSpeechRecognitionUnsupported'));this.updateStyles({"--paper-button-ink-color":this.rippleColor}),this.set('flatStr',this.flat?'flat':''),this.set('autoDetectStr',this.autodetect?'auto-detect':''),''===this.ringColor&&this.set('ringColor',this.micColor),this.googleMicEl=this.$['mic-svg'],this.googleMicLoaderEl=this.$['mic-loading'],this.googleMicDisabledEl=this.$['mic-svg-disabled'],this.buttonEl=this.$['paper-button'];let c=this.$['circle-viz-container'];this.circleViz=new CircleViz(c,()=>{this.onSpeechError({error:'not-allowed'})}),this.clickForPermission||this.circleViz.attachUserMediaStream(),this.updateStyles({"--button-diameter":this.diameter+'px'}),this.updateStyles({"--text-color":this.micColor}),this.updateStyles({"--button-background-color":this.buttonColor}),this.googleMicEl.style.fill=this.googleMicDisabledEl.style.fill=this.micColor,this.darkBg&&(this.updateStyles({"--circle-viz-color":'#FFF'}),this.updateStyles({"--text-color":'#FFF'})),this.textColor&&this.updateStyles({"--text-color":this.textColor}),this.buttonEl.addEventListener('mousedown',this.mouseDown.bind(this)),this.buttonEl.addEventListener('mouseup',this.mouseUp.bind(this)),this.keyboardTrigger!==KeyboardTriggers.NONE&&(document.body.addEventListener('keydown',this.keyDown.bind(this)),document.body.addEventListener('keyup',this.keyUp.bind(this))),this.hidePermissionText&&(this.$['mic-not-allowed'].style.display='none');var d=this.getTranslation();if(d&&(this.$['mic-not-allowed'].innerHTML=d),!this.useCloudSpeech){this.recognition=new b,''!=this.language&&(this.recognition.lang=this.language);const a=window.mobileAndTabletcheck();this.recognition.interimResults=!a,this.recognition.continuous=!a&&!this.autodetect,this.recognition.maxAlternatives=0,this.recognition.onresult=this.onSpeechResult.bind(this),this.recognition.onspeechend=this.onSpeechEnd.bind(this),this.recognition.onerror=this.onSpeechError.bind(this)}else this.voiceRecorder=new VoiceRecorder(this.autodetect,this.onStopRecordingVoiceComplete.bind(this))}getTranslation(){var a=window.componentTranslations.micNotAllowed[this.language];if('undefined'!==typeof a)return a;var b=window.componentTranslations.micNotAllowed[this.language.split('-')[0].toLowerCase()];return'undefined'===typeof b?null:b}keyDown(a){this.state===ListeningState.DISABLED||(this.pressed=!0,(32==a.keyCode&&this.keyboardTrigger===KeyboardTriggers.SPACE_BAR||this.keyboardTrigger===KeyboardTriggers.ALL_KEYS)&&this.state!==ListeningState.USER_INPUT&&this.state!==ListeningState.LISTENING&&this.startListening())}keyUp(a){this.state===ListeningState.DISABLED||(this.pressed=!1,(32==a.keyCode&&this.keyboardTrigger===KeyboardTriggers.SPACE_BAR||this.keyboardTrigger===KeyboardTriggers.ALL_KEYS)&&(this.autodetect&&(this.state===ListeningState.IDLE||this.state===ListeningState.USER_INPUT)?this.stopListening():!this.autodetect&&this.stopListening()))}mouseDown(){this.state===ListeningState.DISABLED||(this.pressed=!0,this.state!==ListeningState.USER_INPUT&&this.state!==ListeningState.LISTENING?this.startListening():this.state===ListeningState.LISTENING&&this.stopListening())}mouseUp(){this.state===ListeningState.DISABLED||(this.autodetect&&(this.state===ListeningState.IDLE||this.state===ListeningState.USER_INPUT)?this.stopListening():!this.autodetect&&this.stopListening(),this.buttonEl.blur(),this.pressed=!1)}startRecordingVoice(){this.isRecording=!0,this.voiceRecorder.startRecord()}blobToBase64(a,b){let c=new FileReader;c.onloadend=()=>{let a=c.result,d=a.split(',')[1];b(d)},c.onerror=(a)=>{console.error('Error in reading blob',a)},c.readAsDataURL(a)}onStopRecordingVoiceComplete(a){this.isRecording&&(this.isRecording=!1,this._setState(ListeningState.IDLE),this.circleViz.stopAnimation(),this.postTranscription(a))}postTranscription(a){this.showLoader(),this.blobToBase64(a,(a)=>{let b=`{
              "config": {
                "encoding": "LINEAR16",
                "languageCode": "en-US",
                "enableWordTimeOffsets": false
              },
              "audio": {
                "content": "${a}"
              }
            }`,c=new XMLHttpRequest;c.open('POST','https://speech.googleapis.com/v1/speech:recognize?key='+this.cloudSpeechApiKey,!0),c.onload=()=>{this.hideLoader();let a=JSON.parse(c.responseText);if(a&&a.results&&a.results[0]&&a.results[0].alternatives&&a.results[0].alternatives[0]&&a.results[0].alternatives[0].transcript){let b=a.results[0].alternatives[0].transcript||'',c={speechResult:b,confidence:a.results[0].alternatives[0].confidence,isFinal:!0};this.dispatchEvent(new CustomEvent('onSpeech',{detail:c}))}},c.onerror=()=>{console.error('Error occurred during Cloud Speech AJAX request.')},c.send(b)})}startListening(){this.clickForPermission&&this.circleViz.attachUserMediaStream(),this._setState(ListeningState.LISTENING),this.useCloudSpeech?this.startRecordingVoice():this.recognition.start(),this.circleViz.startAnimation()}stopListening(){this.useCloudSpeech?this.voiceRecorder.stopRecord():(this._setState(ListeningState.IDLE),this.circleViz.stopAnimation(),this.recognition.stop(),this.removeSpeechEventListeners())}onSpeechResult(a){var b={speechResult:a.results[0][0].transcript,confidence:a.results[0][0].confidence,isFinal:a.results[0].isFinal,sourceEvent:a};this._setState(ListeningState.USER_INPUT),this.dispatchEvent(new CustomEvent('onSpeech',{detail:b})),b.isFinal&&(this._setState(ListeningState.IDLE),this.circleViz.stopAnimation(),this.autodetect&&this.stopListening())}onSpeechEnd(){this._setState(ListeningState.IDLE),this.circleViz.stopAnimation(),this.removeSpeechEventListeners()}onSpeechError(a){this._setState(ListeningState.IDLE),this.circleViz.stopAnimation(),this.removeSpeechEventListeners(),this.dispatchEvent(new CustomEvent('onSpeechError',{detail:a})),'not-allowed'===a.error&&(this.$['mic-not-allowed'].classList.add('show'),this._setState(ListeningState.DISABLED),this.set('disabled',!0))}removeSpeechEventListeners(){this.recognition&&(this.recognition.removeEventListener('result',this.onSpeechResult),this.recognition.removeEventListener('end',this.onSpeechEnd),this.recognition.removeEventListener('error',this.onSpeechError))}_onEnabledStateChange(){this.disabled?this._setState(ListeningState.DISABLED):this._setState(ListeningState.IDLE)}_onStateChange(a,b){this.dispatchEvent(new CustomEvent('onStateChange',{detail:{newValue:a,oldValue:b}}))}showLoader(){this.googleMicLoaderEl.style.opacity=1,this.googleMicEl.style.display='none'}hideLoader(){this.googleMicLoaderEl.style.opacity=0,this.googleMicEl.style.display='block'}}window.mobileAndTabletcheck=function(){var b=!1;return function(c){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,4)))&&(b=!0)}(navigator.userAgent||navigator.vendor||window.opera),b},customElements.define(VoiceButton.is,VoiceButton);</script></dom-module></body></html>